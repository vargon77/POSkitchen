# views/configuracion/config_screen.kv
<ConfigScreen>:
    name: "config"
    
    MDBoxLayout:
        orientation: "vertical"
        spacing: 0
        padding: 0
        md_bg_color: ds_color('light')

        # ========== TOP BAR ==========
        MDTopAppBar:
            title: "‚öôÔ∏è Configuraci√≥n de Empresa"
            md_bg_color: ds_color('primary')
            elevation: 2
            left_action_items: [["arrow-left", root.ir_a_menu]]
            right_action_items: [["content-save", root.guardar_configuracion]]

        # ========== CONTENIDO PRINCIPAL ==========
        ScrollView:
            do_scroll_x: False
            bar_width: dp(4)
            bar_color: ds_color('primary', 0.3)

            MDBoxLayout:
                orientation: "vertical"
                spacing: ds_spacing('lg')
                padding: ds_spacing('xl')
                size_hint_y: None
                height: self.minimum_height

                # ===== SECCI√ìN: DATOS DE LA EMPRESA =====
                MDCard:
                    orientation: "vertical"
                    padding: ds_spacing('lg')
                    spacing: ds_spacing('md')
                    elevation: 2
                    size_hint_y: None
                    height: self.minimum_height
                    radius: dp(12)

                    MDLabel:
                        text: "üè¢ DATOS DE LA EMPRESA"
                        font_style: "H6"
                        bold: True
                        theme_text_color: "Primary"
                        size_hint_y: None
                        height: dp(40)

                    MDSeparator:
                        height: dp(1)

                    # Campo: Nombre
                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: dp(8)
                        size_hint_y: None
                        height: dp(80)

                        MDLabel:
                            text: "Nombre de la Empresa *"
                            font_style: "Body2"
                            bold: True
                            size_hint_y: None
                            height: dp(20)

                        MDTextField:
                            id: input_nombre
                            hint_text: "Ej: Mi Restaurante S.A. de C.V."
                            mode: "rectangle"
                            size_hint_y: None
                            height: dp(48)
                            max_text_length: 100

                    # Campo: Direcci√≥n
                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: dp(8)
                        size_hint_y: None
                        height: dp(80)

                        MDLabel:
                            text: "Direcci√≥n"
                            font_style: "Body2"
                            bold: True
                            size_hint_y: None
                            height: dp(20)

                        MDTextField:
                            id: input_direccion
                            hint_text: "Ej: Av. Principal #123, Col. Centro"
                            mode: "rectangle"
                            size_hint_y: None
                            height: dp(48)
                            max_text_length: 200

                    # Campo: Tel√©fono
                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: dp(8)
                        size_hint_y: None
                        height: dp(80)

                        MDLabel:
                            text: "Tel√©fono"
                            font_style: "Body2"
                            bold: True
                            size_hint_y: None
                            height: dp(20)

                        MDTextField:
                            id: input_telefono
                            hint_text: "Ej: (555) 123-4567"
                            mode: "rectangle"
                            size_hint_y: None
                            height: dp(48)
                            max_text_length: 20

                    # Campo: RFC
                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: dp(8)
                        size_hint_y: None
                        height: dp(80)

                        MDLabel:
                            text: "RFC"
                            font_style: "Body2"
                            bold: True
                            size_hint_y: None
                            height: dp(20)

                        MDTextField:
                            id: input_rfc
                            hint_text: "Ej: XAXX010101000"
                            mode: "rectangle"
                            size_hint_y: None
                            height: dp(48)
                            max_text_length: 13

                # ===== SECCI√ìN: PERSONALIZACI√ìN DE TICKETS =====
                MDCard:
                    orientation: "vertical"
                    padding: ds_spacing('lg')
                    spacing: ds_spacing('md')
                    elevation: 2
                    size_hint_y: None
                    height: self.minimum_height
                    radius: dp(12)

                    MDLabel:
                        text: "üé´ PERSONALIZACI√ìN DE TICKETS"
                        font_style: "H6"
                        bold: True
                        theme_text_color: "Primary"
                        size_hint_y: None
                        height: dp(40)

                    MDSeparator:
                        height: dp(1)

                    # Campo: Leyenda Footer
                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: dp(8)
                        size_hint_y: None
                        height: dp(120)

                        MDLabel:
                            text: "Leyenda de Pie de P√°gina"
                            font_style: "Body2"
                            bold: True
                            size_hint_y: None
                            height: dp(20)

                        MDTextField:
                            id: input_leyenda
                            hint_text: "Ej: ¬°Gracias por su preferencia!"
                            mode: "rectangle"
                            multiline: True
                            size_hint_y: None
                            height: dp(80)
                            max_text_length: 200

                # ===== BOTONES DE ACCI√ìN =====
                MDBoxLayout:
                    orientation: "horizontal"
                    spacing: ds_spacing('md')
                    size_hint_y: None
                    height: ds_button_height('lg')
                    padding: [0, ds_spacing('md')]

                    MDRaisedButton:
                        text: "CANCELAR"
                        icon: "close"
                        md_bg_color: ds_color('gray')
                        size_hint_x: 0.5
                        on_release: root.cancelar()

                    MDRaisedButton:
                        text: "GUARDAR"
                        icon: "content-save"
                        md_bg_color: ds_color('success')
                        size_hint_x: 0.5
                        on_release: root.guardar_configuracion()

                # Espaciador final
                Widget:
                    size_hint_y: None
                    height: dp(20)
